<div class="container mt-5">
  <div class="dashboard-wrapper">
    <aside class="sidebar">
      <div class="profile">
        <div class="avatar">L</div>
        <h3>Name</h3>
        <p>Gmail</p>
      </div>

      <nav class="sidebar-menu">
        <a
          *ngFor="let item of menuItems"
          [class.active]="activeItem === item.name"
          (click)="activeItem = item.name"
        >
          <i [class]="item.icon"></i> {{ item.name }}
        </a>

        <a class="logout"> <i class="bi bi-box-arrow-right"></i> Logout </a>
      </nav>
    </aside>
    <section class="content">
      <div *ngIf="activeItem === 'Dashboard'">
        <h2>Welcome to your Dashboard</h2>
        <p>Here you can see your recent activity and account summary.</p>
        <h2>Dashboard</h2>
        <div class="grid">
          <div class="card" (click)="activeItem = 'Orders'">
            <i class="bi bi-box-seam"></i> <span>Orders</span>
          </div>
          <div class="card" (click)="activeItem = 'Wishlist'">
            <i class="bi bi-heart"></i> <span>Wishlist</span>
          </div>
          <div class="card" (click)="activeItem = 'Addresses'">
            <i class="bi bi-geo-alt"></i> <span>Addresses</span>
          </div>
          <div class="card" (click)="activeItem = 'Personal Info'">
            <i class="bi bi-person-fill"></i> <span>Personal Info</span>
          </div>
        </div>
      </div>

      <div *ngIf="activeItem === 'Orders'">
        <h2>Your Orders</h2>

        <div class="filter-section">
          <div class="row">
            <div class="col-md-3">
              <h6>Filter by Status</h6>
              <div ngbDropdown class="dropdown-wrapper">
                <button class="dropdown-btn" ngbDropdownToggle>
                  {{ selectedStatus }}
                </button>
                <div ngbDropdownMenu>
                  <button
                    ngbDropdownItem
                    *ngFor="let s of statusOptions"
                    (click)="select('status', s)"
                  >
                    <span>{{ s }}</span>
                    <i *ngIf="selectedStatus === s" class="bi bi-check"></i>
                  </button>
                </div>
              </div>
            </div>

            <!-- Sort By Time -->
            <div class="col-md-3">
              <h6>Sort by Time</h6>

              <div ngbDropdown class="dropdown-wrapper">
                <button class="dropdown-btn" ngbDropdownToggle>
                  {{ selectedTime }}
                  <!-- <i class="bi bi-chevron-down"></i> -->
                </button>

                <div ngbDropdownMenu>
                  <button
                    ngbDropdownItem
                    *ngFor="let t of timeOptions"
                    (click)="select('time', t)"
                  >
                    <span>{{ t }}</span>
                    <i *ngIf="selectedTime === t" class="bi bi-check"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="activeItem === 'Wishlist'">
        <h2>My List</h2>
        <p>You have {{ 0 }} products in your Wish List.</p>
      </div>

      <div *ngIf="activeItem === 'Addresses'">
        <h2>Addresses</h2>
        <p>Your address book...</p>
      </div>

      <div *ngIf="activeItem === 'Personal Info'">
        <div class="pInfo">
          <h4>Basic Info</h4>
        </div>
        <!-- ========== BASIC INFO ========== -->
        <div class="row align-items-center mb-4">
          <div class="col-md-6">
            <label class="text-muted small fw-semibold">First name</label>
            <p *ngIf="!editName" class="fw-semibold fs-5 mb-0">
              {{ firstName }}
            </p>
            <input
              *ngIf="editName"
              type="text"
              [(ngModel)]="firstName"
              class="form-control form-control-sm"
            />
          </div>

          <div class="col-md-6 d-flex justify-content-between">
            <div>
              <label class="text-muted small fw-semibold">Last name</label>
              <p *ngIf="!editName" class="fw-semibold fs-5 mb-0">
                {{ lastName }}
              </p>
              <input
                *ngIf="editName"
                type="text"
                [(ngModel)]="lastName"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-md-2 text-md-end mt-2 mt-md-0">
              <button
                (click)="toggleNameEdit()"
                class="btn btn-outline-success btn-sm"
              >
                <i class="bi bi-pencil-square" *ngIf="!editName"></i>
                <i class="bi bi-check-lg" *ngIf="editName"></i>
                {{ editName ? "Save" : "Edit" }}
              </button>
            </div>
          </div>
        </div>

        <hr />

        <!-- ========== CONTACT SECTION ========== -->
        <h6 class="fw-semibold mt-4">Contact</h6>
        <div class="row align-items-center mb-4">
          <div class="col-md-6">
            <label class="text-muted small fw-semibold">Email</label>
            <p *ngIf="!editContact" class="fw-semibold fs-5 mb-0">
              {{ email }}
            </p>
            <input
              *ngIf="editContact"
              type="email"
              [(ngModel)]="email"
              class="form-control form-control-sm"
            />
          </div>

          <div class="col-md-6 d-flex justify-content-between">
            <div>
              <label class="text-muted small fw-semibold">Phone</label>
              <p *ngIf="!editContact" class="fw-semibold fs-5 mb-0 text-success">
                {{ phone }} <span class="small">Verified</span>
              </p>
              <input
                *ngIf="editContact"
                type="text"
                [(ngModel)]="phone"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-md-2 text-md-end mt-2 mt-md-0">
              <button
                (click)="toggleContactEdit()"
                class="btn btn-outline-success btn-sm"
              >
                <i class="bi bi-pencil-square" *ngIf="!editContact"></i>
                <i class="bi bi-check-lg" *ngIf="editContact"></i>
                {{ editContact ? "Save" : "Edit" }}
              </button>
            </div>
          </div>
        </div>
        <hr />

        <!-- ========== PASSWORD SECTION ========== -->
        <h6 class="fw-semibold mt-4">Password</h6>
        <div class="row align-items-center">
          <div class="col-md-10">
            <p *ngIf="!editPass" class="fw-semibold">**************</p>

            <!-- PASSWORD UPDATE FIELDS -->
            <div *ngIf="editPass">
              <input
                type="password"
                class="form-control form-control-sm my-2"
                placeholder="Current Password"
              />
              <input
                [(ngModel)]="newPassword"
                type="password"
                class="form-control form-control-sm my-2"
                placeholder="New Password"
              />
              <input
                [(ngModel)]="confirmPassword"
                type="password"
                class="form-control form-control-sm my-2"
                placeholder="Confirm New Password"
              />
            </div>
          </div>

          <div class="col-md-2 text-md-end mt-2 mt-md-0">
            <button
              (click)="togglePasswordEdit()"
              class="btn btn-outline-success btn-sm"
            >
              <i class="bi bi-pencil-square" *ngIf="!editPass"></i>
              <i class="bi bi-check-lg" *ngIf="editPass"></i>
              {{ editPass ? "Save" : "Edit" }}
            </button>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
