<section>
  <div class="container py-4">
    <h2 class="text-center my-4 mt-5">üõç Our Products</h2>
    <div class="row row-cols-md-3 row-cols-lg-5 g-4">
      <div class="col" *ngFor="let item of productList">
        <div class="border rounded shadow-sm h-100 p-2">
          <div
            class="d-flex align-items-center justify-content-center flex-column"
            style="background-color: rgb(246, 246, 246); height: 256px"
            routerLink="detail"
            [routerLink]="['/detail', item.id]"
          >
            <img [src]="item.thumbnail" alt="{{ item.title }}" class="w-75" />
          </div>
          <div class="px-1 pt-2">
            <div class="text-uppercase mt-2">
              <h3
                class="text-truncate"
                style="
                  font-size: 12px;
                  font-weight: 600;
                  color: rgb(172, 172, 172);
                "
              >
                {{ item.brand }}
              </h3>
            </div>
            <div class="text-uppercase">
              <h2
                class="text-truncate"
                style="font-size: 15px; font-weight: 600"
              >
                {{ item.title }}
              </h2>
            </div>
            <div>
              <p class="line-clamp-2 fs-6 fw-light;">
                {{ item.description }}
              </p>
            </div>
            <div class="mt-3">
              <h6>
                In Stock
                <span class="" style="color: #063c28cc">{{ item.stock }}</span>
              </h6>
            </div>
            <div class="mt-3 d-flex">
              <h3 style="font-size: 18px; font-weight: 600; color: #063c28cc">
                $<span>{{
                  getDiscountedPrice(item.price, item.discountPercentage)
                }}</span>
              </h3>
              <h6
                class="text-sm mx-2 text-decoration-line-through text-secondary"
              >
                $ {{ item.price }}
              </h6>
            </div>
            <div class="d-flex align-items-start mt-2">
              <button
                *ngIf="!this.isProductInCart(item.id)"
                class="btn btn-success w-75 text-light fw-semibold d-flex justify-content-center gap-1 text-truncate mt-2"
                style="border-radius: 10px"
                (click)="AddToCart(item)"
              >
                <img
                  src="https://img.icons8.com/?size=17&id=HtmDYmJyGCy7&format=png&color=FFFFFF"
                  alt="Add"
                  style="height: 20px; width: 20px; margin-top: 2px"
                  class="img-fluid mx-2"
                />
                <span class="text-truncate fs-6">Add To Cart</span>
              </button>
              <button
                *ngIf="this.isProductInCart(item.id)"
                class="btn btn-danger w-75 text-light fw-semibold d-flex justify-content-center gap-1 text-truncate mt-2"
                style="border-radius: 10px"
                (click)="removeToCart(item.id)"
              >
                <img
                  src="https://img.icons8.com/?size=17&id=HtmDYmJyGCy7&format=png&color=FFFFFF"
                  alt="Remove"
                  style="height: 20px; width: 20px; margin-top: 2px"
                  class="img-fluid mx-2"
                />
                <span class="text-truncate fs-6">Remove Cart</span>
              </button>
              <div
                class="wishlist-icon d-flex justify-content-center align-items-center"
                (click)="toggleWishlist(item)"
              >
                <i
                  class="bi"
                  [ngClass]="
                    isWishlisted(item.id)
                      ? 'bi-heart-fill text-success'
                      : 'bi-heart'
                  "
                ></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<div *ngIf="showPopup" class="alert-popup">
  {{ alertMessage }}
  <span class="close-btn" (click)="showPopup = false">&times;</span>
</div>
